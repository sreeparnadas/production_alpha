"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[226],{8226:(k,c,a)=>{a.r(c),a.d(c,{AssemblyAdminDashboardModule:()=>U});var i=a(9808),n=a(4996),t=a(5e3),d=a(262),l=a(8505),m=a(2340),u=a(7579),Z=a(520),b=a(4889);let g=(()=>{class r{constructor(e,o){this.http=e,this.errorService=o,this.BASE_API_URL=m.N.BASE_API_URL,this.reportData=[],this.reportDataSubject=new u.x,this.volunteerReportsData=[],this.volunteerReportsDataSubject=new u.x,this.workerReportsData=[],this.workerReportsDataSubject=new u.x}getReport(e){return this.http.get(this.BASE_API_URL+"/assembly/admin/dashboard/"+e).pipe((0,d.K)(this.errorService.serverError),(0,l.b)(o=>{this.reportData=o.data,this.reportDataSubject.next([...this.reportData])}))}getReportListener(){return this.reportDataSubject.asObservable()}getVolunteerDetailsReport(e){return this.http.get(this.BASE_API_URL+"/pollingStations/"+e+"/volunteers").pipe((0,d.K)(this.errorService.serverError),(0,l.b)(o=>{this.volunteerReportsData=o.data,this.volunteerReportsDataSubject.next([...this.volunteerReportsData])}))}getVolunteerDetailsReportListener(){return this.volunteerReportsDataSubject.asObservable()}getWorkerReport(e){return this.http.get(this.BASE_API_URL+"/volunteer/"+e+"/workers").pipe((0,d.K)(this.errorService.serverError),(0,l.b)(o=>{this.workerReportsData=o.data,this.volunteerReportsDataSubject.next([...this.volunteerReportsData])}))}getWorkerReportListener(){return this.workerReportsDataSubject.asObservable()}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Z.eN),t.LFG(b.T))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var v=a(9366);const h=function(){return[]};function T(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tbody"),t.TgZ(1,"tr"),t._UZ(2,"td",8),t.TgZ(3,"td",8),t._uU(4),t.qZA(),t.TgZ(5,"td",8),t.TgZ(6,"a",9),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(2).getVolunteersByPollingId(p)}),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=s.$implicit;t.xp6(4),t.Oqu(e.pollingNumber),t.xp6(2),t.Q6J("routerLink",t.DdM(3,h)),t.xp6(1),t.Oqu(e.totalVolunteer)}}function y(r,s){if(1&r&&(t.TgZ(0,"div",2),t.TgZ(1,"div",3),t._uU(2," Polling Report "),t.qZA(),t.TgZ(3,"div",4),t.TgZ(4,"table",5),t.TgZ(5,"thead"),t.TgZ(6,"tr"),t.TgZ(7,"th",6),t._uU(8,"#"),t.qZA(),t.TgZ(9,"th",6),t._uU(10,"Polling number"),t.qZA(),t.TgZ(11,"th",6),t._uU(12,"Total volunteer"),t.qZA(),t.qZA(),t.qZA(),t.YNc(13,T,8,4,"tbody",7),t.qZA(),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(13),t.Q6J("ngForOf",e.reportData)}}function D(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tbody"),t.TgZ(1,"tr"),t._UZ(2,"td",8),t.TgZ(3,"td",8),t._uU(4),t.qZA(),t.TgZ(5,"td",8),t._uU(6),t.qZA(),t.TgZ(7,"td",8),t._uU(8),t.qZA(),t.TgZ(9,"td",8),t._uU(10),t.qZA(),t.TgZ(11,"td",8),t._uU(12),t.qZA(),t.TgZ(13,"td",8),t.TgZ(14,"a",9),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(2).getWorkersByVolunteerId(p)}),t._uU(15),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=s.$implicit;t.xp6(4),t.Oqu(e.personName),t.xp6(2),t.Oqu(e.areaDescription),t.xp6(2),t.Oqu(e.age),t.xp6(2),t.Oqu(e.gender),t.xp6(2),t.Oqu(e.pollingNumber),t.xp6(2),t.Q6J("routerLink",t.DdM(7,h)),t.xp6(1),t.Oqu(e.totalWorkers)}}function _(r,s){if(1&r&&(t.TgZ(0,"div",2),t.TgZ(1,"div",3),t._uU(2," Volunteer Details "),t.qZA(),t.TgZ(3,"div",4),t.TgZ(4,"table",5),t.TgZ(5,"thead"),t.TgZ(6,"tr"),t.TgZ(7,"th",6),t._uU(8,"#"),t.qZA(),t.TgZ(9,"th",6),t._uU(10,"Name"),t.qZA(),t.TgZ(11,"th",6),t._uU(12,"Area"),t.qZA(),t.TgZ(13,"th",6),t._uU(14,"Area"),t.qZA(),t.TgZ(15,"th",6),t._uU(16,"Gender"),t.qZA(),t.TgZ(17,"th",6),t._uU(18,"Polling number"),t.qZA(),t.TgZ(19,"th",6),t._uU(20,"Total workers"),t.qZA(),t.qZA(),t.qZA(),t.YNc(21,D,16,8,"tbody",7),t.qZA(),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(21),t.Q6J("ngForOf",e.volunteerReportsData)}}function q(r,s){if(1&r&&(t.TgZ(0,"tbody"),t.TgZ(1,"tr"),t._UZ(2,"td",8),t.TgZ(3,"td",8),t._uU(4),t.qZA(),t.TgZ(5,"td",8),t._uU(6),t.qZA(),t.TgZ(7,"td",8),t._uU(8),t.qZA(),t.TgZ(9,"td",8),t._uU(10),t.qZA(),t.TgZ(11,"td",8),t._uU(12),t.qZA(),t.TgZ(13,"td",8),t._uU(14),t.qZA(),t.qZA(),t.qZA()),2&r){const e=s.$implicit;t.xp6(4),t.Oqu(e.personName),t.xp6(2),t.Oqu(e.areaDescription),t.xp6(2),t.Oqu(e.age),t.xp6(2),t.Oqu(e.gender),t.xp6(2),t.Oqu(e.voterId),t.xp6(2),t.Oqu(e.pollingNumber)}}function R(r,s){if(1&r&&(t.TgZ(0,"div",2),t.TgZ(1,"div",3),t._uU(2," General Workers "),t.qZA(),t.TgZ(3,"div",4),t.TgZ(4,"table",5),t.TgZ(5,"thead"),t.TgZ(6,"tr"),t.TgZ(7,"th",6),t._uU(8,"#"),t.qZA(),t.TgZ(9,"th",6),t._uU(10,"Name"),t.qZA(),t.TgZ(11,"th",6),t._uU(12,"Area"),t.qZA(),t.TgZ(13,"th",6),t._uU(14,"Area"),t.qZA(),t.TgZ(15,"th",6),t._uU(16,"Gender"),t.qZA(),t.TgZ(17,"th",6),t._uU(18,"Voter id"),t.qZA(),t.TgZ(19,"th",6),t._uU(20,"Polling number"),t.qZA(),t.qZA(),t.qZA(),t.YNc(21,q,15,6,"tbody",7),t.qZA(),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(21),t.Q6J("ngForOf",e.workerReportsData)}}const x=[{path:"",component:(()=>{class r{constructor(e,o){this.assemblyAdminDashboardService=e,this.authService=o,this.reportData=[],this.volunteerReportsData=[],this.workerReportsData=[],this.displayFirstMasterReport=!0,this.displaySecondVolunteerReport=!1,this.displayThirdWorkerReport=!1}ngOnInit(){var e;this.loggedInUser=this.authService.userBehaviorSubject.value,this.assemblyAdminDashboardService.getReport(null===(e=this.loggedInUser)||void 0===e?void 0:e.assemblyConstituencyId).subscribe(o=>{this.reportData=o.data}),this.assemblyAdminDashboardService.getReportListener().subscribe(o=>{this.reportData=o})}getVolunteersByPollingId(e){this.assemblyAdminDashboardService.getVolunteerDetailsReport(e.pollingStationId).subscribe(o=>{this.volunteerReportsData=o.data,this.displayFirstMasterReport=!1,this.displaySecondVolunteerReport=!0,this.displayThirdWorkerReport=!1}),this.assemblyAdminDashboardService.getVolunteerDetailsReportListener().subscribe(o=>{this.volunteerReportsData=o})}getWorkersByVolunteerId(e){this.assemblyAdminDashboardService.getWorkerReport(e.id).subscribe(o=>{this.workerReportsData=o.data,this.displayFirstMasterReport=!1,this.displaySecondVolunteerReport=!1,this.displayThirdWorkerReport=!0}),this.assemblyAdminDashboardService.getWorkerReportListener().subscribe(o=>{this.workerReportsData=o})}goToMainReport(){this.displayFirstMasterReport=!0,this.displaySecondVolunteerReport=!1,this.displayThirdWorkerReport=!1}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(g),t.Y36(v.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-assembly-admin-dashboard"]],decls:5,vars:3,consts:[[1,"button","btn-primary",3,"click"],["class","card mt-5",4,"ngIf"],[1,"card","mt-5"],[1,"card-header","text-dark","text-bold"],[1,"card-body"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[3,"routerLink","click"]],template:function(e,o){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return o.goToMainReport()}),t._uU(1,"Back"),t.qZA(),t.YNc(2,y,14,1,"div",1),t.YNc(3,_,22,1,"div",1),t.YNc(4,R,22,1,"div",1)),2&e&&(t.xp6(2),t.Q6J("ngIf",o.displayFirstMasterReport),t.xp6(1),t.Q6J("ngIf",o.displaySecondVolunteerReport),t.xp6(1),t.Q6J("ngIf",o.displayThirdWorkerReport))},directives:[i.O5,i.sg,n.yS],styles:[""]}),r})()}];let f=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[n.Bz.forChild(x)],n.Bz]}),r})(),U=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[i.ez,f]]}),r})()}}]);