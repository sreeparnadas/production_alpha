"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[331],{3331:(y,m,t)=>{t.r(m),t.d(m,{PollingVolunteerModule:()=>C});var u=t(9808),g=t(4996),o=t(3075),c=t(5226),d=t.n(c),f=t(3561),e=t(5e3),v=t(4543),A=t(9366),Z=t(4376);function h(r,s){if(1&r&&(e.TgZ(0,"tbody"),e.TgZ(1,"tr"),e.TgZ(2,"td",21),e._uU(3),e.qZA(),e.TgZ(4,"td",21),e._uU(5),e.qZA(),e.TgZ(6,"td",21),e._uU(7),e.qZA(),e.TgZ(8,"td",21),e._uU(9),e.qZA(),e.TgZ(10,"td",21),e._uU(11),e.qZA(),e.TgZ(12,"td",21),e._uU(13),e.qZA(),e.TgZ(14,"td",21),e._uU(15),e.qZA(),e.TgZ(16,"td",21),e._uU(17),e.qZA(),e.TgZ(18,"td",21),e._uU(19),e.qZA(),e.TgZ(20,"td",21),e._uU(21),e.qZA(),e.qZA(),e.qZA()),2&r){const n=s.$implicit;e.xp6(3),e.Oqu(n.personId),e.xp6(2),e.Oqu(n.memberCode),e.xp6(2),e.Oqu(n.personName),e.xp6(2),e.Oqu(n.age),e.xp6(2),e.Oqu(n.gender),e.xp6(2),e.Oqu(n.email),e.xp6(2),e.Oqu(n.mobile1),e.xp6(2),e.Oqu(n.mobile2),e.xp6(2),e.Oqu(n.voterId),e.xp6(2),e.Oqu(n.pollingNumber)}}function I(r,s){if(1&r&&(e.TgZ(0,"div",22),e.TgZ(1,"div",23),e.TgZ(2,"pre"),e._uU(3),e.ALo(4,"json"),e.qZA(),e.qZA(),e.TgZ(5,"div",23),e.TgZ(6,"pre"),e._uU(7),e.ALo(8,"json"),e.qZA(),e.qZA(),e.qZA()),2&r){const n=e.oxw();e.xp6(3),e.hij("personForm = ",e.lcZ(4,2,n.personForm.value),""),e.xp6(4),e.hij("userForm = ",e.lcZ(8,4,n.userForm.value),"")}}const T=[{path:"",component:(()=>{class r{constructor(n,l,i){this.userRegistrationService=n,this.authService=l,this.formBuilder=i,this.personForm=new o.cw({id:new o.NI(null),personTypeId:new o.NI(null,[o.kI.required]),personName:new o.NI(null,[o.kI.required]),email:new o.NI(null,[o.kI.required]),age:new o.NI(null),gender:new o.NI(null),mobile1:new o.NI(null),mobile2:new o.NI(null),aadharId:new o.NI(null),voterId:new o.NI(null,[o.kI.required]),pollingStationId:new o.NI(null),remark:new o.NI(null)}),this.userForm=new o.cw({id:new o.NI(null),personId:new o.NI(null,[o.kI.required]),parentId:new o.NI(null,[o.kI.required]),areaId:new o.NI(null),remark:new o.NI(null,[o.kI.required]),areaDescription:new o.NI(null,[o.kI.required]),email:new o.NI(null,[o.kI.required]),password:new o.NI(null,[o.kI.required])}),this.genderList=[{id:1,name:"male"},{id:2,name:"female"},{id:3,name:"others"}],this.pollingGeneralMembers=[]}ngOnInit(){var n;this.loggedInUser=this.authService.userBehaviorSubject.value,this.userRegistrationService.getAllGeneralMembersByPollingId(null===(n=this.loggedInUser)||void 0===n?void 0:n.uniqueId).subscribe(l=>{this.pollingGeneralMembers=l.data}),this.userRegistrationService.getAllGeneralMembersByPollingIdListener().subscribe(l=>{this.pollingGeneralMembers=l})}onSubmit(){d().fire({title:"Confirmation",text:"Do you sure to create member?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create It!"}).then(n=>{var l;if(n.isConfirmed){const i=this.personForm.value,p=this.userForm.value,x=(new f.V).appendStr("1234").end(),F={personTypeId:5,personName:i.personName,age:i.age,gender:i.gender,email:i.email,password:x,mobile1:i.mobile1,mobile2:i.mobile2,voterId:i.voterId,pollingStationId:i.pollingStationId,parentId:null===(l=this.loggedInUser)||void 0===l?void 0:l.uniqueId,remark:p.remark,areaDescription:p.areaDescription};this.userRegistrationService.savePollingGeneralMember(F).subscribe(a=>{a.status?(this.personForm.reset(),this.userForm.reset(),d().fire({position:"top-end",icon:"success",title:"User created",showConfirmButton:!1,timer:1e3})):d().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},a=>{console.log(a),console.log("data saving error",a)})}})}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(v.p),e.Y36(A.e),e.Y36(o.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-polling-volunteer"]],decls:53,vars:5,consts:[[1,"container","pt-5"],[3,"formGroup"],[1,"d-flex"],[1,"form-group"],["formControlName","personName","placeholder","Name",1,"form-control"],[1,"form-group","pl-3"],["formControlName","age","placeholder","Age",1,"form-control"],["fxFlex","100","bindLabel","name","bindValue","name","appendTo","body","formControlName","gender","placeholder","Gender",1,"custom",2,"height","200 !important",3,"items"],[1,"d-flex","pt-2"],["formControlName","mobile1","placeholder","Mobile1",1,"form-control"],["formControlName","voterId","placeholder","Voter No.",1,"form-control"],["rows","2","formControlName","remark","placeholder","Remark",1,"form-control"],["rows","2","formControlName","areaDescription","placeholder","Area",1,"form-control"],[1,"pt-4","pb-3"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"card"],[1,"card-body"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["scope","row"],[1,"row"],[1,"col"]],template:function(n,l){1&n&&(e.TgZ(0,"h3"),e._uU(1,"Create General Worker:"),e.qZA(),e.TgZ(2,"div",0),e.TgZ(3,"form",1),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e._UZ(6,"input",4),e.qZA(),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"div",5),e._UZ(10,"ng-select",7),e.qZA(),e.qZA(),e.TgZ(11,"div",8),e.TgZ(12,"div",3),e._UZ(13,"input",9),e.qZA(),e.TgZ(14,"div",5),e._UZ(15,"input",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",8),e.TgZ(17,"form",1),e.TgZ(18,"div",8),e.TgZ(19,"div",5),e._UZ(20,"textarea",11),e.qZA(),e.TgZ(21,"div",5),e._UZ(22,"textarea",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",13),e.TgZ(24,"button",14),e.NdJ("click",function(){return l.onSubmit()}),e._uU(25,"Submit"),e.qZA(),e.qZA(),e.TgZ(26,"div",15),e.TgZ(27,"div",16),e.TgZ(28,"table",17),e.TgZ(29,"thead"),e.TgZ(30,"tr"),e.TgZ(31,"th",18),e._uU(32,"#"),e.qZA(),e.TgZ(33,"th",18),e._uU(34,"Member code"),e.qZA(),e.TgZ(35,"th",18),e._uU(36,"Name"),e.qZA(),e.TgZ(37,"th",18),e._uU(38,"Age"),e.qZA(),e.TgZ(39,"th",18),e._uU(40,"Gender"),e.qZA(),e.TgZ(41,"th",18),e._uU(42,"Email"),e.qZA(),e.TgZ(43,"th",18),e._uU(44,"mobile1"),e.qZA(),e.TgZ(45,"th",18),e._uU(46,"mobile2"),e.qZA(),e.TgZ(47,"th",18),e._uU(48,"voterId"),e.qZA(),e.TgZ(49,"th",18),e._uU(50,"pollingNumber"),e.qZA(),e.qZA(),e.qZA(),e.YNc(51,h,22,10,"tbody",19),e.qZA(),e.qZA(),e.qZA(),e.YNc(52,I,9,6,"div",20),e.qZA()),2&n&&(e.xp6(3),e.Q6J("formGroup",l.personForm),e.xp6(7),e.Q6J("items",l.genderList),e.xp6(7),e.Q6J("formGroup",l.userForm),e.xp6(34),e.Q6J("ngForOf",l.pollingGeneralMembers),e.xp6(1),e.Q6J("ngIf",!1))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,Z.w9,u.sg,u.O5],pipes:[u.Ts],styles:[""]}),r})()}];let q=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[g.Bz.forChild(T)],g.Bz]}),r})();var N=t(7322),b=t(7531),U=t(4107),w=t(9224);let C=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[u.ez,q,o.u5,N.lN,o.UX,b.c,U.LD,w.QW,Z.A0]]}),r})()}}]);