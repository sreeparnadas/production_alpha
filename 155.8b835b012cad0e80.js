"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[155],{155:(F,p,l)=>{l.r(p),l.d(p,{MpLevelModule:()=>C});var d=l(9808),g=l(4996),o=l(3075),v=l(5226),u=l.n(v),h=l(3561),e=l(5e3),A=l(4543),f=l(9366),T=l(5683),I=l(3761),Z=l(4376);function q(r,s){if(1&r&&(e.TgZ(0,"tbody"),e.TgZ(1,"tr"),e.TgZ(2,"td",23),e._uU(3),e.qZA(),e.TgZ(4,"td",23),e._uU(5),e.qZA(),e.TgZ(6,"td",23),e._uU(7),e.qZA(),e.TgZ(8,"td",23),e._uU(9),e.qZA(),e.TgZ(10,"td",23),e._uU(11),e.qZA(),e.TgZ(12,"td",23),e._uU(13),e.qZA(),e.TgZ(14,"td",23),e._uU(15),e.qZA(),e.TgZ(16,"td",23),e._uU(17),e.qZA(),e.TgZ(18,"td",23),e._uU(19),e.qZA(),e.qZA(),e.qZA()),2&r){const t=s.$implicit;e.xp6(3),e.Oqu(t.personId),e.xp6(2),e.Oqu(t.personName),e.xp6(2),e.Oqu(t.age),e.xp6(2),e.Oqu(t.gender),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.mobile1),e.xp6(2),e.Oqu(t.mobile2),e.xp6(2),e.Oqu(t.voterId),e.xp6(2),e.Oqu(t.pollingNumber)}}function b(r,s){if(1&r&&(e.TgZ(0,"div",24),e.TgZ(1,"div",25),e.TgZ(2,"pre"),e._uU(3),e.ALo(4,"json"),e.qZA(),e.qZA(),e.TgZ(5,"div",25),e.TgZ(6,"pre"),e._uU(7),e.ALo(8,"json"),e.qZA(),e.qZA(),e.TgZ(9,"div",25),e.TgZ(10,"pre"),e._uU(11),e.ALo(12,"json"),e.qZA(),e.qZA(),e.TgZ(13,"div",25),e.TgZ(14,"pre"),e._uU(15),e.ALo(16,"json"),e.qZA(),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.hij("personForm = ",e.lcZ(4,4,t.personForm.value),""),e.xp6(4),e.hij("userForm = ",e.lcZ(8,6,t.userForm.value),""),e.xp6(4),e.hij("pollingStations = ",e.lcZ(12,8,t.pollingStations),""),e.xp6(4),e.hij("pollingMembers = ",e.lcZ(16,10,t.pollingMembers),"")}}const N=[{path:"",component:(()=>{class r{constructor(t,i,n,m,c){this.userRegistrationService=t,this.authService=i,this.pollingStationService=n,this.formBuilder=m,this.areaService=c,this.personForm=new o.cw({id:new o.NI(null),personTypeId:new o.NI(null,[o.kI.required]),personName:new o.NI(null,[o.kI.required]),email:new o.NI(null,[o.kI.required]),age:new o.NI(null),gender:new o.NI(null),mobile1:new o.NI(null),mobile2:new o.NI(null),aadharId:new o.NI(null),voterId:new o.NI(null,[o.kI.required]),pollingStationId:new o.NI(null),remark:new o.NI(null)}),this.userForm=new o.cw({id:new o.NI(null),personId:new o.NI(null,[o.kI.required]),parentId:new o.NI(null,[o.kI.required]),areaId:new o.NI(null),remark:new o.NI(null,[o.kI.required]),areaDescription:new o.NI(null,[o.kI.required]),email:new o.NI(null,[o.kI.required]),password:new o.NI(null,[o.kI.required])}),this.areas=[],this.pollingMembers=[],this.genderList=[{id:1,name:"male"},{id:2,name:"female"},{id:3,name:"others"}]}ngOnInit(){var t,i;this.areas=this.areaService.getArea(),this.areaService.getGameTypeListener().subscribe(n=>{this.areas=n}),this.loggedInUser=this.authService.userBehaviorSubject.value,this.pollingStationService.getPollingStationByAssemblyId(null===(t=this.loggedInUser)||void 0===t?void 0:t.assemblyConstituencyId).subscribe(n=>{this.pollingStations=n.data}),this.userRegistrationService.getAllPersonByAssemblyId(null===(i=this.loggedInUser)||void 0===i?void 0:i.assemblyConstituencyId).subscribe(n=>{this.pollingMembers=n.data}),this.userRegistrationService.getAllPersonByAssemblyIdListener().subscribe(n=>{this.pollingMembers=n})}getAllArea(){this.areas=this.areaService.getArea(),this.areaService.getGameTypeListener().subscribe(t=>{this.areas=t})}onSubmit(){u().fire({title:"Confirmation",text:"Do you sure to create user?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create It!"}).then(t=>{var i;if(t.isConfirmed){const n=this.personForm.value,m=this.userForm.value,L=(new h.V).appendStr("1234").end(),x={personTypeId:3,personName:n.personName,age:n.age,gender:n.gender,email:n.email,password:L,mobile1:n.mobile1,mobile2:n.mobile2,voterId:n.voterId,pollingStationId:n.pollingStationId,parentId:null===(i=this.loggedInUser)||void 0===i?void 0:i.uniqueId,remark:m.remark};this.userRegistrationService.saveNewUser(x).subscribe(a=>{a.status?(this.personForm.reset(),this.userForm.reset(),u().fire({position:"top-end",icon:"success",title:"User created",showConfirmButton:!1,timer:1e3})):u().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},a=>{console.log(a),console.log("data saving error",a)})}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(A.p),e.Y36(f.e),e.Y36(T.u),e.Y36(o.qu),e.Y36(I.T))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-mp-level"]],decls:52,vars:6,consts:[[1,"container","pt-5"],[3,"formGroup"],[1,"d-flex"],[1,"form-group"],["formControlName","personName","placeholder","Name",1,"form-control"],[1,"form-group","pl-3"],["formControlName","age","placeholder","Age",1,"form-control"],["fxFlex","100","bindLabel","name","bindValue","name","appendTo","body","formControlName","gender","placeholder","Gender",1,"custom",2,"height","200 !important",3,"items"],[1,"d-flex","pt-2"],["formControlName","mobile1","placeholder","Mobile1",1,"form-control"],["formControlName","mobile2","placeholder","Mobile2",1,"form-control"],["formControlName","voterId","placeholder","Voter No.",1,"form-control"],[1,"form-group","pl-2"],["fxFlex","100","bindLabel","pollingNumber","bindValue","pollingStationId","appendTo","body","formControlName","pollingStationId","placeholder","Polling number",1,"custom",2,"height","200 !important",3,"items"],["rows","2","formControlName","remark","placeholder","Remark",1,"form-control"],[1,"pt-4","pb-3"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"card"],[1,"card-body"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["scope","row"],[1,"row"],[1,"col"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"form",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"input",4),e.qZA(),e.TgZ(5,"div",5),e._UZ(6,"input",6),e.qZA(),e.TgZ(7,"div",5),e._UZ(8,"ng-select",7),e.qZA(),e.qZA(),e.TgZ(9,"div",8),e.TgZ(10,"div",3),e._UZ(11,"input",9),e.qZA(),e.TgZ(12,"div",5),e._UZ(13,"input",10),e.qZA(),e.qZA(),e.TgZ(14,"div",8),e.TgZ(15,"div",3),e._UZ(16,"input",11),e.qZA(),e.TgZ(17,"div",12),e._UZ(18,"ng-select",13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",8),e.TgZ(20,"form",1),e.TgZ(21,"div",8),e.TgZ(22,"div",5),e._UZ(23,"textarea",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",15),e.TgZ(25,"button",16),e.NdJ("click",function(){return i.onSubmit()}),e._uU(26,"Submit"),e.qZA(),e.qZA(),e.TgZ(27,"div",17),e.TgZ(28,"div",18),e.TgZ(29,"table",19),e.TgZ(30,"thead"),e.TgZ(31,"tr"),e.TgZ(32,"th",20),e._uU(33,"#"),e.qZA(),e.TgZ(34,"th",20),e._uU(35,"Name"),e.qZA(),e.TgZ(36,"th",20),e._uU(37,"Age"),e.qZA(),e.TgZ(38,"th",20),e._uU(39,"Gender"),e.qZA(),e.TgZ(40,"th",20),e._uU(41,"Email"),e.qZA(),e.TgZ(42,"th",20),e._uU(43,"mobile1"),e.qZA(),e.TgZ(44,"th",20),e._uU(45,"mobile2"),e.qZA(),e.TgZ(46,"th",20),e._uU(47,"voterId"),e.qZA(),e.TgZ(48,"th",20),e._uU(49,"pollingNumber"),e.qZA(),e.qZA(),e.qZA(),e.YNc(50,q,20,9,"tbody",21),e.qZA(),e.qZA(),e.qZA(),e.YNc(51,b,17,12,"div",22),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.personForm),e.xp6(7),e.Q6J("items",i.genderList),e.xp6(10),e.Q6J("items",i.pollingStations),e.xp6(2),e.Q6J("formGroup",i.userForm),e.xp6(30),e.Q6J("ngForOf",i.pollingMembers),e.xp6(1),e.Q6J("ngIf",!1))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,Z.w9,d.sg,d.O5],pipes:[d.Ts],styles:[""]}),r})()}];let U=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[g.Bz.forChild(N)],g.Bz]}),r})();var S=l(7322),M=l(7531),y=l(4107),w=l(9224);let C=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[d.ez,U,o.u5,S.lN,o.UX,M.c,y.LD,w.QW,Z.A0]]}),r})()}}]);