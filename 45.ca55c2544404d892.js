"use strict";(self.webpackChunkadminDesign=self.webpackChunkadminDesign||[]).push([[45],{9045:(O,m,i)=>{i.r(m),i.d(m,{LegislativeModule:()=>y});var u=i(9808),p=i(4996),o=i(3075),v=i(5226),g=i.n(v),f=i(3561),e=i(5e3),A=i(4543),h=i(9366),T=i(5683),I=i(3761),Z=i(4376);function q(n,s){if(1&n&&(e.TgZ(0,"tbody"),e.TgZ(1,"tr"),e.TgZ(2,"td",23),e._uU(3),e.qZA(),e.TgZ(4,"td",23),e._uU(5),e.qZA(),e.TgZ(6,"td",23),e._uU(7),e.qZA(),e.TgZ(8,"td",23),e._uU(9),e.qZA(),e.TgZ(10,"td",23),e._uU(11),e.qZA(),e.TgZ(12,"td",23),e._uU(13),e.qZA(),e.TgZ(14,"td",23),e._uU(15),e.qZA(),e.TgZ(16,"td",23),e._uU(17),e.qZA(),e.TgZ(18,"td",23),e._uU(19),e.qZA(),e.qZA(),e.qZA()),2&n){const t=s.$implicit;e.xp6(3),e.Oqu(t.personId),e.xp6(2),e.Oqu(t.personName),e.xp6(2),e.Oqu(t.age),e.xp6(2),e.Oqu(t.gender),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.mobile1),e.xp6(2),e.Oqu(t.mobile2),e.xp6(2),e.Oqu(t.voterId),e.xp6(2),e.Oqu(t.pollingNumber)}}function N(n,s){if(1&n&&(e.TgZ(0,"div",18),e.TgZ(1,"div",19),e.TgZ(2,"table",20),e.TgZ(3,"thead"),e.TgZ(4,"tr"),e.TgZ(5,"th",21),e._uU(6,"#"),e.qZA(),e.TgZ(7,"th",21),e._uU(8,"Name"),e.qZA(),e.TgZ(9,"th",21),e._uU(10,"Age"),e.qZA(),e.TgZ(11,"th",21),e._uU(12,"Gender"),e.qZA(),e.TgZ(13,"th",21),e._uU(14,"Email"),e.qZA(),e.TgZ(15,"th",21),e._uU(16,"mobile1"),e.qZA(),e.TgZ(17,"th",21),e._uU(18,"mobile2"),e.qZA(),e.TgZ(19,"th",21),e._uU(20,"voterId"),e.qZA(),e.TgZ(21,"th",21),e._uU(22,"pollingNumber"),e.qZA(),e.qZA(),e.qZA(),e.YNc(23,q,20,9,"tbody",22),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(23),e.Q6J("ngForOf",t.pollingVolunteers)}}function U(n,s){if(1&n&&(e.TgZ(0,"div",24),e.TgZ(1,"div",25),e.TgZ(2,"pre"),e._uU(3),e.ALo(4,"json"),e.qZA(),e.qZA(),e.TgZ(5,"div",25),e.TgZ(6,"pre"),e._uU(7),e.ALo(8,"json"),e.qZA(),e.qZA(),e.TgZ(9,"div",25),e.TgZ(10,"pre"),e._uU(11),e.ALo(12,"json"),e.qZA(),e.qZA(),e.TgZ(13,"div",25),e.TgZ(14,"pre"),e._uU(15),e.ALo(16,"json"),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.hij("personForm = ",e.lcZ(4,4,t.personForm.value),""),e.xp6(4),e.hij("userForm = ",e.lcZ(8,6,t.userForm.value),""),e.xp6(4),e.hij("pollingStations = ",e.lcZ(12,8,t.pollingStations),""),e.xp6(4),e.hij("pollingVolunteers = ",e.lcZ(16,10,t.pollingVolunteers),"")}}const b=[{path:"",component:(()=>{class n{constructor(t,l,r,d,c){this.userRegistrationService=t,this.authService=l,this.pollingStationService=r,this.formBuilder=d,this.areaService=c,this.personForm=new o.cw({id:new o.NI(null),personTypeId:new o.NI(null,[o.kI.required]),personName:new o.NI(null,[o.kI.required]),email:new o.NI(null,[o.kI.required]),age:new o.NI(null),gender:new o.NI(null),mobile1:new o.NI(null),mobile2:new o.NI(null),aadharId:new o.NI(null),voterId:new o.NI(null,[o.kI.required]),pollingStationId:new o.NI(null),remark:new o.NI(null)}),this.userForm=new o.cw({id:new o.NI(null),personId:new o.NI(null,[o.kI.required]),parentId:new o.NI(null,[o.kI.required]),areaId:new o.NI(null),remark:new o.NI(null,[o.kI.required]),areaDescription:new o.NI(null,[o.kI.required]),email:new o.NI(null,[o.kI.required]),password:new o.NI(null,[o.kI.required])}),this.pollingVolunteers=[],this.genderList=[{id:1,name:"male"},{id:2,name:"female"},{id:3,name:"others"}]}ngOnInit(){var t,l;this.loggedInUser=this.authService.userBehaviorSubject.value,this.pollingStationService.getPollingStationByAssemblyId(null===(t=this.loggedInUser)||void 0===t?void 0:t.assemblyConstituencyId).subscribe(r=>{this.pollingStations=r.data}),this.userRegistrationService.getAllVolunteersByPollingId(null===(l=this.loggedInUser)||void 0===l?void 0:l.uniqueId).subscribe(r=>{this.pollingVolunteers=r.data}),this.userRegistrationService.getAllVolunteerByPollingIdListener().subscribe(r=>{this.pollingVolunteers=r})}onSubmit(){g().fire({title:"Confirmation",text:"Do you sure to create volunteer?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, create It!"}).then(t=>{var l;if(t.isConfirmed){const r=this.personForm.value,d=this.userForm.value,F=(new f.V).appendStr("1234").end(),B={personTypeId:4,personName:r.personName,age:r.age,gender:r.gender,email:r.email,password:F,mobile1:r.mobile1,mobile2:r.mobile2,voterId:r.voterId,pollingStationId:r.pollingStationId,parentId:null===(l=this.loggedInUser)||void 0===l?void 0:l.uniqueId,remark:d.remark,areaDescription:d.areaDescription};this.userRegistrationService.savePollingVolunteer(B).subscribe(a=>{a.status?(this.personForm.reset(),this.userForm.reset(),g().fire({position:"top-end",icon:"success",title:"User created",showConfirmButton:!1,timer:1e3})):g().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},a=>{console.log(a),console.log("data saving error",a)})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.p),e.Y36(h.e),e.Y36(T.u),e.Y36(o.qu),e.Y36(I.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-legislative"]],decls:31,vars:5,consts:[[1,"container","pt-5"],[3,"formGroup"],[1,"d-flex"],[1,"form-group"],["formControlName","personName","placeholder","Name",1,"form-control"],[1,"form-group","pl-3"],["formControlName","age","placeholder","Age",1,"form-control"],["fxFlex","100","bindLabel","name","bindValue","name","appendTo","body","formControlName","gender","placeholder","Gender",1,"custom",2,"height","200 !important",3,"items"],[1,"d-flex","pt-2"],["formControlName","mobile1","placeholder","Mobile1",1,"form-control"],["formControlName","mobile2","placeholder","Mobile2",1,"form-control"],["formControlName","voterId","placeholder","Voter No.",1,"form-control"],["rows","2","formControlName","remark","placeholder","Remark",1,"form-control"],["rows","2","formControlName","areaDescription","placeholder","Area",1,"form-control"],[1,"pt-4","pb-3"],["type","submit",1,"btn","btn-primary",3,"click"],["class","card",4,"ngIf"],["class","row",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"row"],[1,"col"]],template:function(t,l){1&t&&(e.TgZ(0,"h3"),e._uU(1,"Legislative panel"),e.qZA(),e.TgZ(2,"div",0),e.TgZ(3,"form",1),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e._UZ(6,"input",4),e.qZA(),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"div",5),e._UZ(10,"ng-select",7),e.qZA(),e.qZA(),e.TgZ(11,"div",8),e.TgZ(12,"div",3),e._UZ(13,"input",9),e.qZA(),e.TgZ(14,"div",5),e._UZ(15,"input",10),e.qZA(),e.qZA(),e.TgZ(16,"div",8),e.TgZ(17,"div",3),e._UZ(18,"input",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",8),e.TgZ(20,"form",1),e.TgZ(21,"div",8),e.TgZ(22,"div",5),e._UZ(23,"textarea",12),e.qZA(),e.TgZ(24,"div",5),e._UZ(25,"textarea",13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",14),e.TgZ(27,"button",15),e.NdJ("click",function(){return l.onSubmit()}),e._uU(28,"Submit"),e.qZA(),e.qZA(),e.YNc(29,N,24,1,"div",16),e.YNc(30,U,17,12,"div",17),e.qZA()),2&t&&(e.xp6(3),e.Q6J("formGroup",l.personForm),e.xp6(7),e.Q6J("items",l.genderList),e.xp6(10),e.Q6J("formGroup",l.userForm),e.xp6(9),e.Q6J("ngIf",!0),e.xp6(1),e.Q6J("ngIf",!1))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,Z.w9,u.O5,u.sg],pipes:[u.Ts],styles:[""]}),n})()}];let x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.Bz.forChild(b)],p.Bz]}),n})();var w=i(7322),C=i(7531),L=i(4107),S=i(9224);let y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,x,o.u5,w.lN,o.UX,C.c,L.LD,S.QW,Z.A0]]}),n})()}}]);